{"remainingRequest":"/home/jean/Vue/meetup/node_modules/babel-loader/lib/index.js!/home/jean/Vue/meetup/src/store/meetup/index.js","dependencies":[{"path":"/home/jean/Vue/meetup/src/store/meetup/index.js","mtime":1641787933002},{"path":"/home/jean/Vue/meetup/babel.config.js","mtime":1640172662233},{"path":"/home/jean/Vue/meetup/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/Vue/meetup/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvamVhbi9WdWUvbWVldHVwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgZ2V0RGF0YWJhc2UsIHJlZiwgcHVzaCwgc2V0LCBvblZhbHVlLCB1cGRhdGUsIHJlbW92ZSB9IGZyb20gImZpcmViYXNlL2RhdGFiYXNlIjsKaW1wb3J0IHsgZ2V0U3RvcmFnZSwgcmVmIGFzIHNSZWYsIHVwbG9hZEJ5dGVzLCBnZXREb3dubG9hZFVSTCB9IGZyb20gImZpcmViYXNlL3N0b3JhZ2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGxvYWRlZE1lZXR1cHM6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBsb2FkZWRNZWV0dXBzOiBmdW5jdGlvbiBsb2FkZWRNZWV0dXBzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2FkZWRNZWV0dXBzLnNvcnQoZnVuY3Rpb24gKG1lZXR1cEEsIG1lZXR1cEIpIHsKICAgICAgICByZXR1cm4gbWVldHVwQS5kYXRlID4gbWVldHVwQi5kYXRlOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkZWRNZWV0dXA6IGZ1bmN0aW9uIGxvYWRlZE1lZXR1cChzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKG1lZXR1cElkKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLmxvYWRlZE1lZXR1cHMuZmluZChmdW5jdGlvbiAobWVldHVwKSB7CiAgICAgICAgICByZXR1cm4gbWVldHVwLmlkID09PSBtZWV0dXBJZDsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICBzaG93TWVldHVwczogZnVuY3Rpb24gc2hvd01lZXR1cHMoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMubG9hZGVkTWVldHVwcy5zbGljZSgwLCA0KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0TG9hZGVkTWVldHVwczogZnVuY3Rpb24gc2V0TG9hZGVkTWVldHVwcyhzdGF0ZSwgbWVldHVwcykgewogICAgICBzdGF0ZS5sb2FkZWRNZWV0dXBzID0gbWVldHVwczsKICAgIH0sCiAgICBjcmVhdGVNZWV0dXA6IGZ1bmN0aW9uIGNyZWF0ZU1lZXR1cChzdGF0ZSwgbWVldHVwKSB7CiAgICAgIHN0YXRlLmxvYWRlZE1lZXR1cHMucHVzaChtZWV0dXApOwogICAgfSwKICAgIGVkaXRNZWV0dXA6IGZ1bmN0aW9uIGVkaXRNZWV0dXAoc3RhdGUsIG1lZXR1cCkgewogICAgICBzdGF0ZS5sb2FkZWRNZWV0dXBzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5pZCA9PT0gbWVldHVwLmlkKSB7CiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbWVldHVwKSB7CiAgICAgICAgICAgIGl0ZW1ba2V5XSA9IG1lZXR1cFtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2FkTWVldHVwczogZnVuY3Rpb24gbG9hZE1lZXR1cHMoX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOwogICAgICBjb25zb2xlLmxvZygxKTsKICAgICAgdmFyIG1lZXR1cHMgPSBbXTsKICAgICAgY29uc29sZS5sb2coMik7CiAgICAgIHZhciBkYiA9IGdldERhdGFiYXNlKCk7CiAgICAgIGNvbnNvbGUubG9nKDMpOwogICAgICBvblZhbHVlKHJlZihkYiwgJy9tZWV0dXBzLycpLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKDQpOwogICAgICAgIHZhciBvYmogPSBkYXRhLnZhbCgpOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgICBtZWV0dXBzLnB1c2goewogICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICB0aXRsZTogb2JqW2tleV0udGl0bGUsCiAgICAgICAgICAgIGxvY2F0aW9uOiBvYmpba2V5XS5sb2NhdGlvbiwKICAgICAgICAgICAgaW1hZ2VVcmw6IG9ialtrZXldLmltYWdlVXJsLAogICAgICAgICAgICBkaXNjcmlwdGlvbjogb2JqW2tleV0uZGlzY3JpcHRpb24sCiAgICAgICAgICAgIGRhdGU6IG9ialtrZXldLmRhdGUsCiAgICAgICAgICAgIGNyZWF0ZUlkOiBvYmpba2V5XS5jcmVhdGVJZAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgY29tbWl0KCdzZXRMb2FkZWRNZWV0dXBzJywgbWVldHVwcyk7CiAgICAgIH0sIHsKICAgICAgICBvbmx5T25jZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVNZWV0dXA6IGZ1bmN0aW9uIGNyZWF0ZU1lZXR1cChfcmVmMiwgbWVldHVwKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHZhciBkYiA9IGdldERhdGFiYXNlKCk7CiAgICAgIHZhciBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpOwogICAgICB2YXIgbmV3TWVldHVwID0gcHVzaChyZWYoZGIsICdtZWV0dXBzJykpOwogICAgICB2YXIga2V5ID0gbmV3TWVldHVwLmtleTsKICAgICAgc2V0KG5ld01lZXR1cCwgbWVldHVwKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZmlsZU5hbWUgPSBtZWV0dXAuaW1hZ2VVcmwubmFtZTsKICAgICAgICB2YXIgZXhwID0gZmlsZU5hbWUuc2xpY2UoZmlsZU5hbWUubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgdmFyIGZpbGVVcmwgPSAnbWVldHVwcy8nICsga2V5ICsgZXhwOwogICAgICAgIHJldHVybiB1cGxvYWRCeXRlcyhzUmVmKHN0b3JhZ2UsIGZpbGVVcmwpLCBtZWV0dXAuaW1hZ2VVcmwpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChmaWxlTWV0YSkgewogICAgICAgIHJldHVybiBnZXREb3dubG9hZFVSTChzUmVmKHN0b3JhZ2UsIGZpbGVNZXRhLm1ldGFkYXRhLmZ1bGxQYXRoKSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgIHZhciB1cGRhdGVzID0ge307CiAgICAgICAgdXBkYXRlc1snL21lZXR1cHMvJyArIGtleSArICcvaW1hZ2VVcmwvJ10gPSB1cmw7CiAgICAgICAgdXBkYXRlKHJlZihkYiksIHVwZGF0ZXMpOwogICAgICAgIHJldHVybiB1cmw7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgIGNvbW1pdCgnY3JlYXRlTWVldHVwJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtZWV0dXApLCB7fSwgewogICAgICAgICAgaWQ6IGtleSwKICAgICAgICAgIGltYWdlVXJsOiB1cmwKICAgICAgICB9KSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRNZWV0dXA6IGZ1bmN0aW9uIGVkaXRNZWV0dXAoX3JlZjMsIF9lZGl0TWVldHVwKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOwogICAgICB2YXIgZGIgPSBnZXREYXRhYmFzZSgpOwogICAgICB2YXIgdXBkYXRlcyA9IHt9OwoKICAgICAgZm9yICh2YXIgaXRlbSBpbiBfZWRpdE1lZXR1cCkgewogICAgICAgIGlmIChpdGVtICE9PSAnaWQnKSB7CiAgICAgICAgICB1cGRhdGVzWycvbWVldHVwcy8nICsgX2VkaXRNZWV0dXAuaWQgKyAiLyIuY29uY2F0KGl0ZW0sICIvIildID0gX2VkaXRNZWV0dXBbaXRlbV07CiAgICAgICAgfQogICAgICB9CgogICAgICB1cGRhdGUocmVmKGRiKSwgdXBkYXRlcyk7CiAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIGZhbHNlKTsKICAgICAgY29tbWl0KCdlZGl0TWVldHVwJywgX2VkaXRNZWV0dXApOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/jean/Vue/meetup/src/store/meetup/index.js"],"names":["getDatabase","ref","push","set","onValue","update","remove","getStorage","sRef","uploadBytes","getDownloadURL","state","loadedMeetups","getters","sort","meetupA","meetupB","date","loadedMeetup","meetupId","find","meetup","id","showMeetups","slice","mutations","setLoadedMeetups","meetups","createMeetup","editMeetup","item","key","actions","loadMeetups","commit","console","log","db","data","obj","val","title","location","imageUrl","discription","createId","onlyOnce","storage","newMeetup","then","fileName","name","exp","lastIndexOf","fileUrl","fileMeta","metadata","fullPath","url","updates","catch","error"],"mappings":";;;;;;AAAA,SAASA,WAAT,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiCC,GAAjC,EAAsCC,OAAtC,EAA+CC,MAA/C,EAAuDC,MAAvD,QAAoE,mBAApE;AACA,SAASC,UAAT,EAAqBN,GAAG,IAAIO,IAA5B,EAAkCC,WAAlC,EAA+CC,cAA/C,QAAqE,kBAArE;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACPC,IAAAA,aAAa,EAAE;AADR,GADM;AAKdC,EAAAA,OAAO,EAAE;AACRD,IAAAA,aADQ,yBACMD,KADN,EACa;AACpB,aAAOA,KAAK,CAACC,aAAN,CAAoBE,IAApB,CAAyB,UAACC,OAAD,EAAUC,OAAV;AAAA,eAAsBD,OAAO,CAACE,IAAR,GAAeD,OAAO,CAACC,IAA7C;AAAA,OAAzB,CAAP;AACA,KAHO;AAIRC,IAAAA,YAJQ,wBAIKP,KAJL,EAIY;AACnB,aAAO,UAACQ,QAAD,EAAc;AAChB,eAAOR,KAAK,CAACC,aAAN,CAAoBQ,IAApB,CAAyB,UAACC,MAAD,EAAY;AAC1C,iBAAOA,MAAM,CAACC,EAAP,KAAcH,QAArB;AACD,SAFM,CAAP;AAGD,OAJJ;AAKA,KAVO;AAWRI,IAAAA,WAXQ,uBAWIZ,KAXJ,EAWWE,OAXX,EAWoB;AAC3B,aAAOA,OAAO,CAACD,aAAR,CAAsBY,KAAtB,CAA4B,CAA5B,EAA+B,CAA/B,CAAP;AACA;AAbO,GALK;AAqBdC,EAAAA,SAAS,EAAE;AACVC,IAAAA,gBADU,4BACOf,KADP,EACcgB,OADd,EACuB;AAChChB,MAAAA,KAAK,CAACC,aAAN,GAAsBe,OAAtB;AACA,KAHS;AAKVC,IAAAA,YALU,wBAKGjB,KALH,EAKUU,MALV,EAKkB;AAC3BV,MAAAA,KAAK,CAACC,aAAN,CAAoBV,IAApB,CAAyBmB,MAAzB;AACA,KAPS;AASVQ,IAAAA,UATU,sBASClB,KATD,EASQU,MATR,EASgB;AACzBV,MAAAA,KAAK,CAACC,aAAN,CAAoBQ,IAApB,CAAyB,UAAAU,IAAI,EAAI;AAChC,YAAIA,IAAI,CAACR,EAAL,KAAYD,MAAM,CAACC,EAAvB,EAA2B;AAC1B,eAAK,IAAIS,GAAT,IAAgBV,MAAhB,EAAwB;AACvBS,YAAAA,IAAI,CAACC,GAAD,CAAJ,GAAYV,MAAM,CAACU,GAAD,CAAlB;AACA;AACD;AACD,OAND;AAOA;AAjBS,GArBG;AAyCdC,EAAAA,OAAO,EAAE;AACRC,IAAAA,WADQ,6BACc;AAAA,UAATC,MAAS,QAATA,MAAS;AACrBA,MAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,UAAMT,OAAO,GAAG,EAAhB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,UAAMC,EAAE,GAAGrC,WAAW,EAAtB;AACAmC,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACAhC,MAAAA,OAAO,CAACH,GAAG,CAACoC,EAAD,EAAK,WAAL,CAAJ,EAAuB,UAACC,IAAD,EAAU;AACvCH,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,YAAMG,GAAG,GAAGD,IAAI,CAACE,GAAL,EAAZ;;AACA,aAAK,IAAIT,GAAT,IAAgBQ,GAAhB,EAAqB;AACpBZ,UAAAA,OAAO,CAACzB,IAAR,CAAa;AACZoB,YAAAA,EAAE,EAAES,GADQ;AAEZU,YAAAA,KAAK,EAAEF,GAAG,CAACR,GAAD,CAAH,CAASU,KAFJ;AAGZC,YAAAA,QAAQ,EAAEH,GAAG,CAACR,GAAD,CAAH,CAASW,QAHP;AAIZC,YAAAA,QAAQ,EAAEJ,GAAG,CAACR,GAAD,CAAH,CAASY,QAJP;AAKZC,YAAAA,WAAW,EAAEL,GAAG,CAACR,GAAD,CAAH,CAASa,WALV;AAMZ3B,YAAAA,IAAI,EAAEsB,GAAG,CAACR,GAAD,CAAH,CAASd,IANH;AAOZ4B,YAAAA,QAAQ,EAAEN,GAAG,CAACR,GAAD,CAAH,CAASc;AAPP,WAAb;AASA;;AACDX,QAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAA,QAAAA,MAAM,CAAC,kBAAD,EAAqBP,OAArB,CAAN;AACA,OAhBM,EAgBJ;AACFmB,QAAAA,QAAQ,EAAE;AADR,OAhBI,CAAP;AAmBA,KA3BO;AA6BRlB,IAAAA,YA7BQ,+BA6BeP,MA7Bf,EA6BuB;AAAA,UAAjBa,MAAiB,SAAjBA,MAAiB;AAC9B,UAAMG,EAAE,GAAGrC,WAAW,EAAtB;AACA,UAAM+C,OAAO,GAAGxC,UAAU,EAA1B;AACA,UAAMyC,SAAS,GAAG9C,IAAI,CAACD,GAAG,CAACoC,EAAD,EAAK,SAAL,CAAJ,CAAtB;AACA,UAAIN,GAAG,GAAGiB,SAAS,CAACjB,GAApB;AACA5B,MAAAA,GAAG,CAAC6C,SAAD,EAAa3B,MAAb,CAAH,CACE4B,IADF,CACO,YAAM;AACX,YAAMC,QAAQ,GAAG7B,MAAM,CAACsB,QAAP,CAAgBQ,IAAjC;AACA,YAAMC,GAAG,GAAGF,QAAQ,CAAC1B,KAAT,CAAe0B,QAAQ,CAACG,WAAT,CAAqB,GAArB,CAAf,CAAZ;AACA,YAAMC,OAAO,GAAG,aAAavB,GAAb,GAAmBqB,GAAnC;AACA,eAAO3C,WAAW,CAACD,IAAI,CAACuC,OAAD,EAAUO,OAAV,CAAL,EAAyBjC,MAAM,CAACsB,QAAhC,CAAlB;AACA,OANF,EAOEM,IAPF,CAOO,UAAAM,QAAQ,EAAI;AACjB,eAAO7C,cAAc,CAACF,IAAI,CAACuC,OAAD,EAAUQ,QAAQ,CAACC,QAAT,CAAkBC,QAA5B,CAAL,CAArB;AACA,OATF,EAUER,IAVF,CAUO,UAAAS,GAAG,EAAI;AACZ,YAAMC,OAAO,GAAG,EAAhB;AACAA,QAAAA,OAAO,CAAC,cAAc5B,GAAd,GAAoB,YAArB,CAAP,GAA4C2B,GAA5C;AACArD,QAAAA,MAAM,CAACJ,GAAG,CAACoC,EAAD,CAAJ,EAAUsB,OAAV,CAAN;AACA,eAAOD,GAAP;AACA,OAfF,EAgBET,IAhBF,CAgBO,UAACS,GAAD,EAAS;AACdxB,QAAAA,MAAM,CAAC,cAAD,kCACFb,MADE;AAELC,UAAAA,EAAE,EAAES,GAFC;AAGLY,UAAAA,QAAQ,EAAEe;AAHL,WAAN;AAKA,OAtBF,EAuBEE,KAvBF,CAuBQ,UAAAC,KAAK;AAAA,eAAI1B,OAAO,CAACC,GAAR,CAAYyB,KAAZ,CAAJ;AAAA,OAvBb;AAwBA,KA1DO;AA4DRhC,IAAAA,UA5DQ,6BA4DaA,WA5Db,EA4DyB;AAAA,UAArBK,MAAqB,SAArBA,MAAqB;AAChCA,MAAAA,MAAM,CAAC,YAAD,EAAe,IAAf,CAAN;AACA,UAAMG,EAAE,GAAGrC,WAAW,EAAtB;AACA,UAAM2D,OAAO,GAAG,EAAhB;;AACA,WAAK,IAAI7B,IAAT,IAAiBD,WAAjB,EAA6B;AAC5B,YAAIC,IAAI,KAAK,IAAb,EAAmB;AAClB6B,UAAAA,OAAO,CAAC,cAAc9B,WAAU,CAACP,EAAzB,cAAkCQ,IAAlC,MAAD,CAAP,GAAqDD,WAAU,CAACC,IAAD,CAA/D;AACA;AACD;;AACDzB,MAAAA,MAAM,CAACJ,GAAG,CAACoC,EAAD,CAAJ,EAAUsB,OAAV,CAAN;AACAzB,MAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAA,MAAAA,MAAM,CAAC,YAAD,EAAeL,WAAf,CAAN;AACA;AAxEO;AAzCK,CAAf","sourcesContent":["import { getDatabase, ref, push, set, onValue, update, remove} from \"firebase/database\";\nimport { getStorage, ref as sRef, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\nexport default {\n  state: {\n\t\tloadedMeetups: []\n  },\n\n\tgetters: {\n\t\tloadedMeetups(state) {\n\t\t\treturn state.loadedMeetups.sort((meetupA, meetupB) => meetupA.date > meetupB.date)\n\t\t},\n\t\tloadedMeetup(state) {\n\t\t\treturn (meetupId) => {\n        return state.loadedMeetups.find((meetup) => {\n          return meetup.id === meetupId\n        })\n      }\n\t\t},\n\t\tshowMeetups(state, getters) {\n\t\t\treturn getters.loadedMeetups.slice(0, 4)\n\t\t}\n\t},\n\n\tmutations: {\n\t\tsetLoadedMeetups(state, meetups) {\n\t\t\tstate.loadedMeetups = meetups\n\t\t},\n\n\t\tcreateMeetup(state, meetup) {\n\t\t\tstate.loadedMeetups.push(meetup)\n\t\t},\n\n\t\teditMeetup(state, meetup) {\n\t\t\tstate.loadedMeetups.find(item => {\n\t\t\t\tif (item.id === meetup.id) {\n\t\t\t\t\tfor (let key in meetup) {\n\t\t\t\t\t\titem[key] = meetup[key]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\n\tactions: {\n\t\tloadMeetups({commit}) {\n\t\t\tcommit('setLoading', true)\n\t\t\tconsole.log(1)\n\t\t\tconst meetups = []\n\t\t\tconsole.log(2)\n\t\t\tconst db = getDatabase()\n\t\t\tconsole.log(3)\n\t\t\tonValue(ref(db, '/meetups/'), (data) => {\n\t\t\t\tconsole.log(4)\n\t\t\t\tconst obj = data.val()\n\t\t\t\tfor (let key in obj) {\n\t\t\t\t\tmeetups.push({\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\ttitle: obj[key].title,\n\t\t\t\t\t\tlocation: obj[key].location,\n\t\t\t\t\t\timageUrl: obj[key].imageUrl,\n\t\t\t\t\t\tdiscription: obj[key].discription,\n\t\t\t\t\t\tdate: obj[key].date,\n\t\t\t\t\t\tcreateId: obj[key].createId\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tcommit('setLoading', false)\n\t\t\t\tcommit('setLoadedMeetups', meetups)\n\t\t\t}, {\n\t\t\t\tonlyOnce: true\n\t\t\t})\n\t\t},\n\n\t\tcreateMeetup({commit}, meetup) {\n\t\t\tconst db = getDatabase()\n\t\t\tconst storage = getStorage()\n\t\t\tconst newMeetup = push(ref(db, 'meetups'))\n\t\t\tlet key = newMeetup.key\n\t\t\tset(newMeetup , meetup)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst fileName = meetup.imageUrl.name\n\t\t\t\t\tconst exp = fileName.slice(fileName.lastIndexOf('.'))\n\t\t\t\t\tconst fileUrl = 'meetups/' + key + exp\n\t\t\t\t\treturn uploadBytes(sRef(storage, fileUrl), meetup.imageUrl)\n\t\t\t\t})\n\t\t\t\t.then(fileMeta => {\n\t\t\t\t\treturn getDownloadURL(sRef(storage, fileMeta.metadata.fullPath))\n\t\t\t\t})\n\t\t\t\t.then(url => {\n\t\t\t\t\tconst updates = {};\n\t\t\t\t\tupdates['/meetups/' + key + '/imageUrl/'] = url\n\t\t\t\t\tupdate(ref(db), updates);\n\t\t\t\t\treturn url\n\t\t\t\t})\n\t\t\t\t.then((url) => {\n\t\t\t\t\tcommit('createMeetup', {\n\t\t\t\t\t\t...meetup,\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\timageUrl: url\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => console.log(error))\n\t\t},\n\n\t\teditMeetup({commit}, editMeetup) {\n\t\t\tcommit('setLoading', true)\n\t\t\tconst db = getDatabase()\n\t\t\tconst updates = {}\n\t\t\tfor (let item in editMeetup) {\n\t\t\t\tif (item !== 'id') {\n\t\t\t\t\tupdates['/meetups/' + editMeetup.id + `/${item}/`] = editMeetup[item]\n\t\t\t\t}\n\t\t\t}\n\t\t\tupdate(ref(db), updates)\n\t\t\tcommit('setLoading', false)\n\t\t\tcommit('editMeetup', editMeetup)\n\t\t}\n\t}\n}\n"]}]}