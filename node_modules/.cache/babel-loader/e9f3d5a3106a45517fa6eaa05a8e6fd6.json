{"remainingRequest":"/home/jean/Документы/GitHub/meetup-firebase/node_modules/thread-loader/dist/cjs.js!/home/jean/Документы/GitHub/meetup-firebase/node_modules/babel-loader/lib/index.js!/home/jean/Документы/GitHub/meetup-firebase/src/store/meetup/index.js","dependencies":[{"path":"/home/jean/Документы/GitHub/meetup-firebase/src/store/meetup/index.js","mtime":1641788397637},{"path":"/home/jean/Документы/GitHub/meetup-firebase/babel.config.js","mtime":1640172662233},{"path":"/home/jean/Документы/GitHub/meetup-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/Документы/GitHub/meetup-firebase/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/Документы/GitHub/meetup-firebase/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvamVhbi9cdTA0MTRcdTA0M0VcdTA0M0FcdTA0NDNcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NEIvR2l0SHViL21lZXR1cC1maXJlYmFzZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGdldERhdGFiYXNlLCByZWYsIHB1c2gsIHNldCwgb25WYWx1ZSwgdXBkYXRlLCByZW1vdmUgfSBmcm9tICJmaXJlYmFzZS9kYXRhYmFzZSI7CmltcG9ydCB7IGdldFN0b3JhZ2UsIHJlZiBhcyBzUmVmLCB1cGxvYWRCeXRlcywgZ2V0RG93bmxvYWRVUkwgfSBmcm9tICJmaXJlYmFzZS9zdG9yYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBsb2FkZWRNZWV0dXBzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgbG9hZGVkTWVldHVwczogZnVuY3Rpb24gbG9hZGVkTWVldHVwcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGVkTWVldHVwcy5zb3J0KGZ1bmN0aW9uIChtZWV0dXBBLCBtZWV0dXBCKSB7CiAgICAgICAgcmV0dXJuIG1lZXR1cEEuZGF0ZSA+IG1lZXR1cEIuZGF0ZTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZGVkTWVldHVwOiBmdW5jdGlvbiBsb2FkZWRNZWV0dXAoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtZWV0dXBJZCkgewogICAgICAgIHJldHVybiBzdGF0ZS5sb2FkZWRNZWV0dXBzLmZpbmQoZnVuY3Rpb24gKG1lZXR1cCkgewogICAgICAgICAgcmV0dXJuIG1lZXR1cC5pZCA9PT0gbWVldHVwSWQ7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgc2hvd01lZXR1cHM6IGZ1bmN0aW9uIHNob3dNZWV0dXBzKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiBnZXR0ZXJzLmxvYWRlZE1lZXR1cHMuc2xpY2UoMCwgNCk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldExvYWRlZE1lZXR1cHM6IGZ1bmN0aW9uIHNldExvYWRlZE1lZXR1cHMoc3RhdGUsIG1lZXR1cHMpIHsKICAgICAgc3RhdGUubG9hZGVkTWVldHVwcyA9IG1lZXR1cHM7CiAgICB9LAogICAgY3JlYXRlTWVldHVwOiBmdW5jdGlvbiBjcmVhdGVNZWV0dXAoc3RhdGUsIG1lZXR1cCkgewogICAgICBzdGF0ZS5sb2FkZWRNZWV0dXBzLnB1c2gobWVldHVwKTsKICAgIH0sCiAgICBlZGl0TWVldHVwOiBmdW5jdGlvbiBlZGl0TWVldHVwKHN0YXRlLCBtZWV0dXApIHsKICAgICAgc3RhdGUubG9hZGVkTWVldHVwcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IG1lZXR1cC5pZCkgewogICAgICAgICAgZm9yICh2YXIga2V5IGluIG1lZXR1cCkgewogICAgICAgICAgICBpdGVtW2tleV0gPSBtZWV0dXBba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9hZE1lZXR1cHM6IGZ1bmN0aW9uIGxvYWRNZWV0dXBzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoJ3NldExvYWRpbmcnLCB0cnVlKTsKICAgICAgdmFyIG1lZXR1cHMgPSBbXTsKICAgICAgdmFyIGRiID0gZ2V0RGF0YWJhc2UoKTsKICAgICAgb25WYWx1ZShyZWYoZGIsICcvbWVldHVwcy8nKSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgb2JqID0gZGF0YS52YWwoKTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgICAgbWVldHVwcy5wdXNoKHsKICAgICAgICAgICAgaWQ6IGtleSwKICAgICAgICAgICAgdGl0bGU6IG9ialtrZXldLnRpdGxlLAogICAgICAgICAgICBsb2NhdGlvbjogb2JqW2tleV0ubG9jYXRpb24sCiAgICAgICAgICAgIGltYWdlVXJsOiBvYmpba2V5XS5pbWFnZVVybCwKICAgICAgICAgICAgZGlzY3JpcHRpb246IG9ialtrZXldLmRpc2NyaXB0aW9uLAogICAgICAgICAgICBkYXRlOiBvYmpba2V5XS5kYXRlLAogICAgICAgICAgICBjcmVhdGVJZDogb2JqW2tleV0uY3JlYXRlSWQKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgZmFsc2UpOwogICAgICAgIGNvbW1pdCgnc2V0TG9hZGVkTWVldHVwcycsIG1lZXR1cHMpOwogICAgICB9LCB7CiAgICAgICAgb25seU9uY2U6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlTWVldHVwOiBmdW5jdGlvbiBjcmVhdGVNZWV0dXAoX3JlZjIsIG1lZXR1cCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgZGIgPSBnZXREYXRhYmFzZSgpOwogICAgICB2YXIgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTsKICAgICAgdmFyIG5ld01lZXR1cCA9IHB1c2gocmVmKGRiLCAnbWVldHVwcycpKTsKICAgICAgdmFyIGtleSA9IG5ld01lZXR1cC5rZXk7CiAgICAgIHNldChuZXdNZWV0dXAsIG1lZXR1cCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGZpbGVOYW1lID0gbWVldHVwLmltYWdlVXJsLm5hbWU7CiAgICAgICAgdmFyIGV4cCA9IGZpbGVOYW1lLnNsaWNlKGZpbGVOYW1lLmxhc3RJbmRleE9mKCcuJykpOwogICAgICAgIHZhciBmaWxlVXJsID0gJ21lZXR1cHMvJyArIGtleSArIGV4cDsKICAgICAgICByZXR1cm4gdXBsb2FkQnl0ZXMoc1JlZihzdG9yYWdlLCBmaWxlVXJsKSwgbWVldHVwLmltYWdlVXJsKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZmlsZU1ldGEpIHsKICAgICAgICByZXR1cm4gZ2V0RG93bmxvYWRVUkwoc1JlZihzdG9yYWdlLCBmaWxlTWV0YS5tZXRhZGF0YS5mdWxsUGF0aCkpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICB2YXIgdXBkYXRlcyA9IHt9OwogICAgICAgIHVwZGF0ZXNbJy9tZWV0dXBzLycgKyBrZXkgKyAnL2ltYWdlVXJsLyddID0gdXJsOwogICAgICAgIHVwZGF0ZShyZWYoZGIpLCB1cGRhdGVzKTsKICAgICAgICByZXR1cm4gdXJsOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICBjb21taXQoJ2NyZWF0ZU1lZXR1cCcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWVldHVwKSwge30sIHsKICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICBpbWFnZVVybDogdXJsCiAgICAgICAgfSkpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0TWVldHVwOiBmdW5jdGlvbiBlZGl0TWVldHVwKF9yZWYzLCBfZWRpdE1lZXR1cCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ3NldExvYWRpbmcnLCB0cnVlKTsKICAgICAgdmFyIGRiID0gZ2V0RGF0YWJhc2UoKTsKICAgICAgdmFyIHVwZGF0ZXMgPSB7fTsKCiAgICAgIGZvciAodmFyIGl0ZW0gaW4gX2VkaXRNZWV0dXApIHsKICAgICAgICBpZiAoaXRlbSAhPT0gJ2lkJykgewogICAgICAgICAgdXBkYXRlc1snL21lZXR1cHMvJyArIF9lZGl0TWVldHVwLmlkICsgIi8iLmNvbmNhdChpdGVtLCAiLyIpXSA9IF9lZGl0TWVldHVwW2l0ZW1dOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdXBkYXRlKHJlZihkYiksIHVwZGF0ZXMpOwogICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgIGNvbW1pdCgnZWRpdE1lZXR1cCcsIF9lZGl0TWVldHVwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/jean/Документы/GitHub/meetup-firebase/src/store/meetup/index.js"],"names":["getDatabase","ref","push","set","onValue","update","remove","getStorage","sRef","uploadBytes","getDownloadURL","state","loadedMeetups","getters","sort","meetupA","meetupB","date","loadedMeetup","meetupId","find","meetup","id","showMeetups","slice","mutations","setLoadedMeetups","meetups","createMeetup","editMeetup","item","key","actions","loadMeetups","commit","db","data","obj","val","title","location","imageUrl","discription","createId","onlyOnce","storage","newMeetup","then","fileName","name","exp","lastIndexOf","fileUrl","fileMeta","metadata","fullPath","url","updates","catch","error","console","log"],"mappings":"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","sourcesContent":["import { getDatabase, ref, push, set, onValue, update, remove} from \"firebase/database\";\nimport { getStorage, ref as sRef, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\nexport default {\n  state: {\n\t\tloadedMeetups: []\n  },\n\n\tgetters: {\n\t\tloadedMeetups(state) {\n\t\t\treturn state.loadedMeetups.sort((meetupA, meetupB) => meetupA.date > meetupB.date)\n\t\t},\n\t\tloadedMeetup(state) {\n\t\t\treturn (meetupId) => {\n        return state.loadedMeetups.find((meetup) => {\n          return meetup.id === meetupId\n        })\n      }\n\t\t},\n\t\tshowMeetups(state, getters) {\n\t\t\treturn getters.loadedMeetups.slice(0, 4)\n\t\t}\n\t},\n\n\tmutations: {\n\t\tsetLoadedMeetups(state, meetups) {\n\t\t\tstate.loadedMeetups = meetups\n\t\t},\n\n\t\tcreateMeetup(state, meetup) {\n\t\t\tstate.loadedMeetups.push(meetup)\n\t\t},\n\n\t\teditMeetup(state, meetup) {\n\t\t\tstate.loadedMeetups.find(item => {\n\t\t\t\tif (item.id === meetup.id) {\n\t\t\t\t\tfor (let key in meetup) {\n\t\t\t\t\t\titem[key] = meetup[key]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\n\tactions: {\n\t\tloadMeetups({commit}) {\n\t\t\tcommit('setLoading', true)\n\t\t\tconst meetups = []\n\t\t\tconst db = getDatabase()\n\t\t\tonValue(ref(db, '/meetups/'), (data) => {\n\t\t\t\tconst obj = data.val()\n\t\t\t\tfor (let key in obj) {\n\t\t\t\t\tmeetups.push({\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\ttitle: obj[key].title,\n\t\t\t\t\t\tlocation: obj[key].location,\n\t\t\t\t\t\timageUrl: obj[key].imageUrl,\n\t\t\t\t\t\tdiscription: obj[key].discription,\n\t\t\t\t\t\tdate: obj[key].date,\n\t\t\t\t\t\tcreateId: obj[key].createId\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tcommit('setLoading', false)\n\t\t\t\tcommit('setLoadedMeetups', meetups)\n\t\t\t}, {\n\t\t\t\tonlyOnce: true\n\t\t\t})\n\t\t},\n\n\t\tcreateMeetup({commit}, meetup) {\n\t\t\tconst db = getDatabase()\n\t\t\tconst storage = getStorage()\n\t\t\tconst newMeetup = push(ref(db, 'meetups'))\n\t\t\tlet key = newMeetup.key\n\t\t\tset(newMeetup , meetup)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst fileName = meetup.imageUrl.name\n\t\t\t\t\tconst exp = fileName.slice(fileName.lastIndexOf('.'))\n\t\t\t\t\tconst fileUrl = 'meetups/' + key + exp\n\t\t\t\t\treturn uploadBytes(sRef(storage, fileUrl), meetup.imageUrl)\n\t\t\t\t})\n\t\t\t\t.then(fileMeta => {\n\t\t\t\t\treturn getDownloadURL(sRef(storage, fileMeta.metadata.fullPath))\n\t\t\t\t})\n\t\t\t\t.then(url => {\n\t\t\t\t\tconst updates = {};\n\t\t\t\t\tupdates['/meetups/' + key + '/imageUrl/'] = url\n\t\t\t\t\tupdate(ref(db), updates);\n\t\t\t\t\treturn url\n\t\t\t\t})\n\t\t\t\t.then((url) => {\n\t\t\t\t\tcommit('createMeetup', {\n\t\t\t\t\t\t...meetup,\n\t\t\t\t\t\tid: key,\n\t\t\t\t\t\timageUrl: url\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => console.log(error))\n\t\t},\n\n\t\teditMeetup({commit}, editMeetup) {\n\t\t\tcommit('setLoading', true)\n\t\t\tconst db = getDatabase()\n\t\t\tconst updates = {}\n\t\t\tfor (let item in editMeetup) {\n\t\t\t\tif (item !== 'id') {\n\t\t\t\t\tupdates['/meetups/' + editMeetup.id + `/${item}/`] = editMeetup[item]\n\t\t\t\t}\n\t\t\t}\n\t\t\tupdate(ref(db), updates)\n\t\t\tcommit('setLoading', false)\n\t\t\tcommit('editMeetup', editMeetup)\n\t\t}\n\t}\n}\n"]}]}